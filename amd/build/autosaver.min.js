define("tiny_keylogger/autosaver",["exports","core/ajax"],(function(_exports,_ajax){Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.register=void 0;_exports.register=editor=>{const sendKeyEvent=(event,ed)=>{let ur=ed.srcElement.baseURI,parm=new URL(ur),recourceId=0,modulename="",cmid=0;if(!(ur.includes("attempt.php")||ur.includes("forum")||ur.includes("assign")))return!1;var methodname,args;ur.includes("forum")||ur.includes("assign")?cmid=parm.searchParams.get("id"):(cmid=parm.searchParams.get("cmid"),recourceId=parm.searchParams.get("attempt")),null===recourceId&&(recourceId=0),null===cmid&&(cmid=0),ur.includes("forum")&&(modulename="forum"),ur.includes("assign")&&(modulename="assign"),ur.includes("attempt")&&(modulename="attempt"),methodname="keylogger_json",args={key:ed.key,event:event,keyCode:ed.keyCode,resourceId:recourceId,cmid:cmid,modulename:modulename},(0,_ajax.call)([{methodname:methodname,args:args}])[0]};editor.on("keyUp",(editor=>{sendKeyEvent("keyUp",editor)})),editor.on("keyDown",(editor=>{sendKeyEvent("keyDown",editor)})),editor.on("init",(()=>{}))}}));

//# sourceMappingURL=autosaver.min.js.map